<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Surfweer – laatste update</title>
    <meta name="color-scheme" content="light dark" />
    <style>
      :root { --bd:#e5e5e5; --fg:#111; --muted:#666; }
      @media (prefers-color-scheme: dark) {
        :root { --bd:#2a2a2a; --fg:#eee; --muted:#aaa; }
        body { background:#111; color:var(--fg); }
        textarea { background:#0d0d0d; color:var(--fg); }
        button { background:#1a1a1a; color:var(--fg); border-color:var(--bd); }
      }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 24px; }
      .wrap { max-width: 820px; margin: 0 auto; }
      h1 { font-size: 1.25rem; margin: 0 0 .75rem; }
      .row { display: flex; gap: .5rem; align-items: center; margin-bottom: .75rem; }
      button { padding: .5rem .9rem; border: 1px solid var(--bd); border-radius: 10px; cursor: pointer; }
      .status { font-size: .9rem; color: var(--muted); }
      textarea { width: 100%; min-height: 360px; padding: .9rem; border: 1px solid var(--bd); border-radius: 12px; resize: vertical; }
      .error { color: #b00020; }
      .small { font-size: .85rem; color: var(--muted); margin-top: .5rem; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <h1>Surfweer – meest actuele bericht</h1>

      <div class="row">
        <button id="refresh">Verversen</button>
        <span id="status" class="status"></span>
      </div>

      <textarea id="out" readonly placeholder="Nog geen data…"></textarea>
      <div class="small">Bron: Supabase sms_messages → get_latest_sms()</div>
    </div>

    <!-- Supabase JS (ESM) -->
    <script type="module" src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Config met jouw URL en anon key -->
    <script type="module" src="./config.js"></script>
    <!-- App code -->
    <script type="module" src="./app.js"></script>
  </body>
</html>
